<!-- https://github.com/mhlabs/cfn-diagram -->

```mermaid
	flowchart TB;
		subgraph &nbsp;
		rootpumpedrestapiAccount8A41F302[pumpedrestapiAccount8A41F302<br/>ApiGateway::Account]-->rootpumpedrestapiCloudWatchRole80D102B5[pumpedrestapiCloudWatchRole80D102B5<br/>IAM::Role]
		rootpumpedrestapiDeploymentBF510CB50ae716d825b017a75f8bf989d4a7d442[pumpedrestapiDeploymentBF510CB50ae716d825b017a75f8bf989d4a7d442<br/>ApiGateway::Deployment]-->rootpumpedrestapiA51E419C[pumpedrestapiA51E419C<br/>ApiGateway::RestApi]
		rootpumpedrestapiDeploymentStageprod7AA2D6C8[pumpedrestapiDeploymentStageprod7AA2D6C8<br/>ApiGateway::Stage]-->rootpumpedrestapiA51E419C[pumpedrestapiA51E419C<br/>ApiGateway::RestApi]
		rootpumpedrestapiDeploymentStageprod7AA2D6C8[pumpedrestapiDeploymentStageprod7AA2D6C8<br/>ApiGateway::Stage]-->rootpumpedrestapiDeploymentBF510CB50ae716d825b017a75f8bf989d4a7d442[pumpedrestapiDeploymentBF510CB50ae716d825b017a75f8bf989d4a7d442<br/>ApiGateway::Deployment]
		rootpumpedrestapiOPTIONS308FB916[pumpedrestapiOPTIONS308FB916<br/>ApiGateway::Method]-->rootpumpedrestapiA51E419C[pumpedrestapiA51E419C<br/>ApiGateway::RestApi]
		rootpumpedrestapigraphql248E3623[pumpedrestapigraphql248E3623<br/>ApiGateway::Resource]-->rootpumpedrestapiA51E419C[pumpedrestapiA51E419C<br/>ApiGateway::RestApi]
		rootpumpedrestapigraphqlOPTIONS750DF9F4[pumpedrestapigraphqlOPTIONS750DF9F4<br/>ApiGateway::Method]-->rootpumpedrestapigraphql248E3623[pumpedrestapigraphql248E3623<br/>ApiGateway::Resource]
		rootpumpedrestapigraphqlOPTIONS750DF9F4[pumpedrestapigraphqlOPTIONS750DF9F4<br/>ApiGateway::Method]-->rootpumpedrestapiA51E419C[pumpedrestapiA51E419C<br/>ApiGateway::RestApi]
		rootpumpedrestapigraphqlPOSTApiPermissionpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DPOSTgraphqlBB931C1B[pumpedrestapigraphqlPOSTApiPermissionpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DPOSTgraphqlBB931C1B<br/>Lambda::Permission]-->rootpumpedrestapiA51E419C[pumpedrestapiA51E419C<br/>ApiGateway::RestApi]
		rootpumpedrestapigraphqlPOSTApiPermissionpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DPOSTgraphqlBB931C1B[pumpedrestapigraphqlPOSTApiPermissionpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DPOSTgraphqlBB931C1B<br/>Lambda::Permission]-->rootpumpedrestapiDeploymentStageprod7AA2D6C8[pumpedrestapiDeploymentStageprod7AA2D6C8<br/>ApiGateway::Stage]
		rootpumpedrestapigraphqlPOSTApiPermissionpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DPOSTgraphqlBB931C1B[pumpedrestapigraphqlPOSTApiPermissionpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DPOSTgraphqlBB931C1B<br/>Lambda::Permission]-->rootgqlserverlambdafunction3FCD4EB3[[gqlserverlambdafunction3FCD4EB3<br/>Lambda::Function]]
		rootpumpedrestapigraphqlPOSTApiPermissionTestpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DPOSTgraphql1B3E0FB1[pumpedrestapigraphqlPOSTApiPermissionTestpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DPOSTgraphql1B3E0FB1<br/>Lambda::Permission]-->rootpumpedrestapiA51E419C[pumpedrestapiA51E419C<br/>ApiGateway::RestApi]
		rootpumpedrestapigraphqlPOSTApiPermissionTestpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DPOSTgraphql1B3E0FB1[pumpedrestapigraphqlPOSTApiPermissionTestpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DPOSTgraphql1B3E0FB1<br/>Lambda::Permission]-->rootgqlserverlambdafunction3FCD4EB3[[gqlserverlambdafunction3FCD4EB3<br/>Lambda::Function]]
		rootpumpedrestapigraphqlPOSTBE7D3E87[pumpedrestapigraphqlPOSTBE7D3E87<br/>ApiGateway::Method]-->rootpumpedrestapigraphql248E3623[pumpedrestapigraphql248E3623<br/>ApiGateway::Resource]
		rootpumpedrestapigraphqlPOSTBE7D3E87[pumpedrestapigraphqlPOSTBE7D3E87<br/>ApiGateway::Method]-->rootpumpedrestapiA51E419C[pumpedrestapiA51E419C<br/>ApiGateway::RestApi]
		rootpumpedrestapigraphqlPOSTBE7D3E87[pumpedrestapigraphqlPOSTBE7D3E87<br/>ApiGateway::Method]-->rootgqlserverlambdafunction3FCD4EB3[[gqlserverlambdafunction3FCD4EB3<br/>Lambda::Function]]
		rootpumpedrestapigraphqlGETApiPermissionpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DGETgraphql27503651[pumpedrestapigraphqlGETApiPermissionpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DGETgraphql27503651<br/>Lambda::Permission]-->rootpumpedrestapiA51E419C[pumpedrestapiA51E419C<br/>ApiGateway::RestApi]
		rootpumpedrestapigraphqlGETApiPermissionpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DGETgraphql27503651[pumpedrestapigraphqlGETApiPermissionpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DGETgraphql27503651<br/>Lambda::Permission]-->rootpumpedrestapiDeploymentStageprod7AA2D6C8[pumpedrestapiDeploymentStageprod7AA2D6C8<br/>ApiGateway::Stage]
		rootpumpedrestapigraphqlGETApiPermissionpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DGETgraphql27503651[pumpedrestapigraphqlGETApiPermissionpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DGETgraphql27503651<br/>Lambda::Permission]-->rootgqlserverlambdafunction3FCD4EB3[[gqlserverlambdafunction3FCD4EB3<br/>Lambda::Function]]
		rootpumpedrestapigraphqlGETApiPermissionTestpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DGETgraphql1B780A15[pumpedrestapigraphqlGETApiPermissionTestpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DGETgraphql1B780A15<br/>Lambda::Permission]-->rootpumpedrestapiA51E419C[pumpedrestapiA51E419C<br/>ApiGateway::RestApi]
		rootpumpedrestapigraphqlGETApiPermissionTestpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DGETgraphql1B780A15[pumpedrestapigraphqlGETApiPermissionTestpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DGETgraphql1B780A15<br/>Lambda::Permission]-->rootgqlserverlambdafunction3FCD4EB3[[gqlserverlambdafunction3FCD4EB3<br/>Lambda::Function]]
		rootpumpedrestapigraphqlGETE55C2BD4[pumpedrestapigraphqlGETE55C2BD4<br/>ApiGateway::Method]-->rootpumpedrestapigraphql248E3623[pumpedrestapigraphql248E3623<br/>ApiGateway::Resource]
		rootpumpedrestapigraphqlGETE55C2BD4[pumpedrestapigraphqlGETE55C2BD4<br/>ApiGateway::Method]-->rootpumpedrestapiA51E419C[pumpedrestapiA51E419C<br/>ApiGateway::RestApi]
		rootpumpedrestapigraphqlGETE55C2BD4[pumpedrestapigraphqlGETE55C2BD4<br/>ApiGateway::Method]-->rootgqlserverlambdafunction3FCD4EB3[[gqlserverlambdafunction3FCD4EB3<br/>Lambda::Function]]
		rootpumpedrestapilogin933A81A2[pumpedrestapilogin933A81A2<br/>ApiGateway::Resource]-->rootpumpedrestapiA51E419C[pumpedrestapiA51E419C<br/>ApiGateway::RestApi]
		rootpumpedrestapiloginOPTIONSC01D9C4D[pumpedrestapiloginOPTIONSC01D9C4D<br/>ApiGateway::Method]-->rootpumpedrestapilogin933A81A2[pumpedrestapilogin933A81A2<br/>ApiGateway::Resource]
		rootpumpedrestapiloginOPTIONSC01D9C4D[pumpedrestapiloginOPTIONSC01D9C4D<br/>ApiGateway::Method]-->rootpumpedrestapiA51E419C[pumpedrestapiA51E419C<br/>ApiGateway::RestApi]
		rootpumpedrestapiloginPOSTApiPermissionpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DPOSTloginCE3BA920[pumpedrestapiloginPOSTApiPermissionpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DPOSTloginCE3BA920<br/>Lambda::Permission]-->rootpumpedrestapiA51E419C[pumpedrestapiA51E419C<br/>ApiGateway::RestApi]
		rootpumpedrestapiloginPOSTApiPermissionpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DPOSTloginCE3BA920[pumpedrestapiloginPOSTApiPermissionpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DPOSTloginCE3BA920<br/>Lambda::Permission]-->rootpumpedrestapiDeploymentStageprod7AA2D6C8[pumpedrestapiDeploymentStageprod7AA2D6C8<br/>ApiGateway::Stage]
		rootpumpedrestapiloginPOSTApiPermissionpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DPOSTloginCE3BA920[pumpedrestapiloginPOSTApiPermissionpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DPOSTloginCE3BA920<br/>Lambda::Permission]-->roottestlambdafunction82C8D643[[testlambdafunction82C8D643<br/>Lambda::Function]]
		rootpumpedrestapiloginPOSTApiPermissionTestpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DPOSTlogin5D6385A4[pumpedrestapiloginPOSTApiPermissionTestpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DPOSTlogin5D6385A4<br/>Lambda::Permission]-->rootpumpedrestapiA51E419C[pumpedrestapiA51E419C<br/>ApiGateway::RestApi]
		rootpumpedrestapiloginPOSTApiPermissionTestpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DPOSTlogin5D6385A4[pumpedrestapiloginPOSTApiPermissionTestpumpedfeatureLambdaAuthorizerpumpedrestapiEBCCE05DPOSTlogin5D6385A4<br/>Lambda::Permission]-->roottestlambdafunction82C8D643[[testlambdafunction82C8D643<br/>Lambda::Function]]
		rootpumpedrestapiloginPOST2DE83AB6[pumpedrestapiloginPOST2DE83AB6<br/>ApiGateway::Method]-->rootpumpedrestapilogin933A81A2[pumpedrestapilogin933A81A2<br/>ApiGateway::Resource]
		rootpumpedrestapiloginPOST2DE83AB6[pumpedrestapiloginPOST2DE83AB6<br/>ApiGateway::Method]-->rootpumpedrestapiA51E419C[pumpedrestapiA51E419C<br/>ApiGateway::RestApi]
		rootpumpedrestapiloginPOST2DE83AB6[pumpedrestapiloginPOST2DE83AB6<br/>ApiGateway::Method]-->roottestlambdafunction82C8D643[[testlambdafunction82C8D643<br/>Lambda::Function]]
		rootlambdaRoleDefaultPolicyA63A8A92[lambdaRoleDefaultPolicyA63A8A92<br/>IAM::Policy]-->rootAuroraClusterSecretAttachmentDB8032DA[AuroraClusterSecretAttachmentDB8032DA<br/>SecretsManager::SecretTargetAttachment]
		rootlambdaRoleDefaultPolicyA63A8A92[lambdaRoleDefaultPolicyA63A8A92<br/>IAM::Policy]-->rootlambdaRoleC844FDB1[lambdaRoleC844FDB1<br/>IAM::Role]
		rootlambdaExecutionAccess82ECF6E2[lambdaExecutionAccess82ECF6E2<br/>IAM::Policy]-->rootlambdaRoleC844FDB1[lambdaRoleC844FDB1<br/>IAM::Role]
		rootauthorizerlambdafunction03029C71[[authorizerlambdafunction03029C71<br/>Lambda::Function]]-->rootAuroraCluster23D869C0[(AuroraCluster23D869C0<br/>RDS::DBCluster)]
		rootauthorizerlambdafunction03029C71[[authorizerlambdafunction03029C71<br/>Lambda::Function]]-->rootAuroraClusterSecretAttachmentDB8032DA[AuroraClusterSecretAttachmentDB8032DA<br/>SecretsManager::SecretTargetAttachment]
		rootauthorizerlambdafunction03029C71[[authorizerlambdafunction03029C71<br/>Lambda::Function]]-->rootlambdaLayer857D4AF4[lambdaLayer857D4AF4<br/>Lambda::LayerVersion]
		rootauthorizerlambdafunction03029C71[[authorizerlambdafunction03029C71<br/>Lambda::Function]]-->rootlambdaRoleC844FDB1[lambdaRoleC844FDB1<br/>IAM::Role]
		rootauthorizerlambdafunctionPermitAPIGInvocationAD654EA6[authorizerlambdafunctionPermitAPIGInvocationAD654EA6<br/>Lambda::Permission]-->rootpumpedrestapiA51E419C[pumpedrestapiA51E419C<br/>ApiGateway::RestApi]
		rootauthorizerlambdafunctionPermitAPIGInvocationAD654EA6[authorizerlambdafunctionPermitAPIGInvocationAD654EA6<br/>Lambda::Permission]-->rootauthorizerlambdafunction03029C71[[authorizerlambdafunction03029C71<br/>Lambda::Function]]
		rootauthorizerRoleNameD4A9D320[authorizerRoleNameD4A9D320<br/>IAM::Role]-->rootlambdaeuwest1508654539038[lambdaeuwest1508654539038<br/>External resource (aws::lambda::function)]
		rootcfnAuth[cfnAuth<br/>ApiGateway::Authorizer]-->rootpumpedrestapiA51E419C[pumpedrestapiA51E419C<br/>ApiGateway::RestApi]
		rootcfnAuth[cfnAuth<br/>ApiGateway::Authorizer]-->rootauthorizerRoleNameD4A9D320[authorizerRoleNameD4A9D320<br/>IAM::Role]
		rootcfnAuth[cfnAuth<br/>ApiGateway::Authorizer]-->rootauthorizerlambdafunction03029C71[[authorizerlambdafunction03029C71<br/>Lambda::Function]]
		rootgqlserverlambdafunction3FCD4EB3[[gqlserverlambdafunction3FCD4EB3<br/>Lambda::Function]]-->rootAuroraCluster23D869C0[(AuroraCluster23D869C0<br/>RDS::DBCluster)]
		rootgqlserverlambdafunction3FCD4EB3[[gqlserverlambdafunction3FCD4EB3<br/>Lambda::Function]]-->rootAuroraClusterSecretAttachmentDB8032DA[AuroraClusterSecretAttachmentDB8032DA<br/>SecretsManager::SecretTargetAttachment]
		rootgqlserverlambdafunction3FCD4EB3[[gqlserverlambdafunction3FCD4EB3<br/>Lambda::Function]]-->rootlambdaLayer857D4AF4[lambdaLayer857D4AF4<br/>Lambda::LayerVersion]
		rootgqlserverlambdafunction3FCD4EB3[[gqlserverlambdafunction3FCD4EB3<br/>Lambda::Function]]-->rootlambdaRoleC844FDB1[lambdaRoleC844FDB1<br/>IAM::Role]
		rootgqlserverlambdafunctionPermitAPIGInvocation0C4B5E2D[gqlserverlambdafunctionPermitAPIGInvocation0C4B5E2D<br/>Lambda::Permission]-->rootpumpedrestapiA51E419C[pumpedrestapiA51E419C<br/>ApiGateway::RestApi]
		rootgqlserverlambdafunctionPermitAPIGInvocation0C4B5E2D[gqlserverlambdafunctionPermitAPIGInvocation0C4B5E2D<br/>Lambda::Permission]-->rootgqlserverlambdafunction3FCD4EB3[[gqlserverlambdafunction3FCD4EB3<br/>Lambda::Function]]
		roottestlambdafunction82C8D643[[testlambdafunction82C8D643<br/>Lambda::Function]]-->rootAuroraCluster23D869C0[(AuroraCluster23D869C0<br/>RDS::DBCluster)]
		roottestlambdafunction82C8D643[[testlambdafunction82C8D643<br/>Lambda::Function]]-->rootAuroraClusterSecretAttachmentDB8032DA[AuroraClusterSecretAttachmentDB8032DA<br/>SecretsManager::SecretTargetAttachment]
		roottestlambdafunction82C8D643[[testlambdafunction82C8D643<br/>Lambda::Function]]-->rootlambdaLayer857D4AF4[lambdaLayer857D4AF4<br/>Lambda::LayerVersion]
		roottestlambdafunction82C8D643[[testlambdafunction82C8D643<br/>Lambda::Function]]-->rootlambdaRoleC844FDB1[lambdaRoleC844FDB1<br/>IAM::Role]
		roottestlambdafunctionPermitAPIGInvocationBE79153D[testlambdafunctionPermitAPIGInvocationBE79153D<br/>Lambda::Permission]-->rootpumpedrestapiA51E419C[pumpedrestapiA51E419C<br/>ApiGateway::RestApi]
		roottestlambdafunctionPermitAPIGInvocationBE79153D[testlambdafunctionPermitAPIGInvocationBE79153D<br/>Lambda::Permission]-->roottestlambdafunction82C8D643[[testlambdafunction82C8D643<br/>Lambda::Function]]
		rootAuroraClusterSecretAttachmentDB8032DA[AuroraClusterSecretAttachmentDB8032DA<br/>SecretsManager::SecretTargetAttachment]-->rootAuroraClusterSecret8E4F2BC8[AuroraClusterSecret8E4F2BC8<br/>SecretsManager::Secret]
		rootAuroraClusterSecretAttachmentDB8032DA[AuroraClusterSecretAttachmentDB8032DA<br/>SecretsManager::SecretTargetAttachment]-->rootAuroraCluster23D869C0[(AuroraCluster23D869C0<br/>RDS::DBCluster)]
		rootAuroraCluster23D869C0[(AuroraCluster23D869C0<br/>RDS::DBCluster)]-->rootAuroraClusterSecret8E4F2BC8[AuroraClusterSecret8E4F2BC8<br/>SecretsManager::Secret]

  	end

```
